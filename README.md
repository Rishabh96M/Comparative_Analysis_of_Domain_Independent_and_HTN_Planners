# Comparative_Analysis_of_Domain_Independent_and_HTN_Planners

Implemented actions for Metric-FF and Fast Downward domain-independent planners in PDDL. Implemented actions and methods for HTN Planner using GTPyhop in the Block World State and Satellite domains.

Conducted a comparative analysis of the above-mentioned planners for various problem sizes and evaluated the performance of the planners using metrics such as the number of nodes explored, CPU time, and plan length.


## Steps to generate the problem files

### For BWS domain
First generate the object file for executable of BWStates generator.
```
cd <path_to_workspace>/Comparative_Analysis_of_Domain_Independent_and_HTN_Planners/pddl-generators/blocksworld/
make
```

Run the script to generate files.
```
cd <path_to_workspace>/Comparative_Analysis_of_Domain_Independent_and_HTN_Planners/src/
chmod +x bws_generator.sh
./bws_generator.sh
```

This will generate block world problems with problem sizes from 20 to 34, and 100 different problems for each problem size. The generated PDDL files will be stored in the **bws_domain** folder.


Note:- You can change problem size and number of problems required inside the 'bws_generator.sh' script.

### For Satellite domain
First generate the object file for executable of Satellite generator.
```
cd <path_to_workspace>/Comparative_Analysis_of_Domain_Independent_and_HTN_Planners/pddl-generators/satellite_states_generator/satellite-generator/
make
```

Run the script to generate files.
```
cd <path_to_workspace>/Comparative_Analysis_of_Domain_Independent_and_HTN_Planners/src/
chmod +x sat_states_generator.sh
./sat_states_generator.sh
```

This will generate satellite problems in numeric domain and simple domain, with problem sizes from 10 to 24, and 20 different problems for each problem size. The generated PDDL files will be stored in the **satellite_domain** folder.


Note:- You can change problem size and number of problems required inside the 'sat_states_generator.sh' script.

## Steps to create object files of the planner
To make the object file for fast Downward planner
```
cd <path_to_workspace>/Comparative_Analysis_of_Domain_Independent_and_HTN_Planners/fast-downward-22.12
./build.py
```


To make the object file for Metric-FF planner
```
cd <path_to_workspace>/Comparative_Analysis_of_Domain_Independent_and_HTN_Planners/Metric-FF
make
```

## Steps to run the planners on the generated problems
To run the fast downward planner for BWStates
```
cd <path_to_workspace>/Comparative_Analysis_of_Domain_Independent_and_HTN_Planners/src/
chmod +x bws_pddl_run.sh
./bws_pddl_run.sh
```
This will generate the plans for all the problems in **bws_domain** folder and store the output files in **results/bws_domain** folder. This script also generates a 'bws_fd_stats.txt' file with the required statistics located in the **results** folder.


To run the fast downward and Metric FF for the problems in satellite domain.
```
cd <path_to_workspace>/Comparative_Analysis_of_Domain_Independent_and_HTN_Planners/src/
chmod +x sat_pddl_run.sh
./sat_pddl_run.sh
```
This will generate the plans for all the problems in **satellite_domain** folder and store the output files in **results/sat_numeric_domain** and **results/sat_simple_domain** folders respectively. This script also generates 'sat_fd_stats.txt' and 'sat_ff_stats.txt' files with the required statistics located in the **results** folder.


To run the HTN planner for BWStates
```
cd <path_to_workspace>/Comparative_Analysis_of_Domain_Independent_and_HTN_Planners/GTPyhop
python3
import blocks_htn
blocks_htn.main()
exit()
```
This will generate the plans for all the problems in **bws_domain** folder and display it on the terminal. This script also generates a 'bws_htn_stats.txt' file with the required statistics located in the **results** folder.


To run the HTN planner for satellite domain
```
cd <path_to_workspace>/Comparative_Analysis_of_Domain_Independent_and_HTN_Planners/GTPyhop
python3
import satellite_htn
satellite_htn.main()
exit()
```
This will generate the plans for all the problems in **satellite_domain/numeric_domain** folder and display it on the terminal. This script also generates 'sat_htn_stats.txt' file with the required statistics located in the **results** folder.


## Steps to generate the graphs
To generate the graphs which can compare up to 3 planners. This script will generate scatter plots, error bar graphs and line graphs for plan length, number of nodes explored and CPU Time.
```
cd <path_to_workspace>/Comparative_Analysis_of_Domain_Independent_and_HTN_Planners/src/
python generate_graphs.py
```
Note:- make sure to change the path to the stats files generated by above planners.


***I have already generated all the problem files and are present in **bws_domain** and **satellite_domain** respectively, the results for the problem files along with the stats are present in the **results** folder and the graphs that are generated are in the **graphs** folder*** 
